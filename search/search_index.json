{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Democratizing graph-based security analysis \ud83d\ude80 Starbase from JupiterOne , collects assets and relationships from services and systems including cloud infrastructure, SaaS applications, security controls, and more into an intuitive graph view backed by the Neo4j database. Security is a basic right . Starbase's goal is to democratize graph-based security analysis and overall visibility into external services and systems. Our team believes that in order to secure any system or service, you must have: Knowledge of the assets that you have Knowledge of the relationships between assets that you have Knowledge of what questions to ask about what you have Why Starbase? Starbase offers three key advantages: Depth and breadth - Deep visibility from a breadth of external services and systems.Thousands of entities (vertices) and relationships (edges) are available out-of-the-box. Uniform data model - The data that Starbase collects is automatically classified, making it easy to develop generic queries. Easily extensible - Starbase graph integrations can be easily developed!","title":"About"},{"location":"#why-starbase","text":"Starbase offers three key advantages: Depth and breadth - Deep visibility from a breadth of external services and systems.Thousands of entities (vertices) and relationships (edges) are available out-of-the-box. Uniform data model - The data that Starbase collects is automatically classified, making it easy to develop generic queries. Easily extensible - Starbase graph integrations can be easily developed!","title":"Why Starbase?"},{"location":"contact/","text":"Contact Slack - Join us in the #starbase channel","title":"Contact"},{"location":"contact/#contact","text":"Slack - Join us in the #starbase channel","title":"Contact"},{"location":"docker/","text":"Starbase in Docker Running Starbase - Docker Starbase can also be run inside of Docker, minimizing the need to locally install node and yarn. Run docker build --no-cache -t starbase:latest . to create the Starbase docker image. Run docker-compose run starbase setup to clone or update all integrations listed in the config.yaml file as well as install all dependencies for each integration. Run docker-compose run starbase run to collect data for each listed integration and then push collected data to the storage endpoint listed in config.yaml . Note that macOS users in particular may see slower execution times when running Starbase in a Docker container. Customizable Base Container Image A public base container image is available via GitHub Container Registry . This image only has Starbase installed, without any configuration or graph integrations. This means you'll need to pass configuration to Starbase by making your config.yaml available to your running container, for example via a Kubernetes ConfigMap , and run starbase setup to install your graph integrations before using them.","title":"Docker"},{"location":"docker/#starbase-in-docker","text":"","title":"Starbase in Docker"},{"location":"docker/#running-starbase-docker","text":"Starbase can also be run inside of Docker, minimizing the need to locally install node and yarn. Run docker build --no-cache -t starbase:latest . to create the Starbase docker image. Run docker-compose run starbase setup to clone or update all integrations listed in the config.yaml file as well as install all dependencies for each integration. Run docker-compose run starbase run to collect data for each listed integration and then push collected data to the storage endpoint listed in config.yaml . Note that macOS users in particular may see slower execution times when running Starbase in a Docker container.","title":"Running Starbase - Docker"},{"location":"docker/#customizable-base-container-image","text":"A public base container image is available via GitHub Container Registry . This image only has Starbase installed, without any configuration or graph integrations. This means you'll need to pass configuration to Starbase by making your config.yaml available to your running container, for example via a Kubernetes ConfigMap , and run starbase setup to install your graph integrations before using them.","title":"Customizable Base Container Image"},{"location":"installation/","text":"Installation Starbase Usage and Development Prerequisites Install Node.js using the installer or a version manager such as nvm or fnm . Install yarn . Install dependencies with yarn install . Register an account in the system each integration targets for ingestion and obtain API credentials. Configuring Starbase Starbase leverages credentials from external services to authenticate and collect data. When Starbase is started, it reads configuration data from a single configuration file named config.yaml at the root of the project. Copy config.yaml.example to config.yaml cp config.yaml.example config.yaml Supply configuration values in config.yaml for each integration Configuring individual Starbase integrations The individual graph integration configuration field names can be found in their respective open source integration projects (GitHub repositories prefixed with graph-* ) integrations: - name: graph-google-cloud instanceId: testInstanceId directory: ./.integrations/graph-google-cloud gitRemoteUrl: https://github.com/JupiterOne/graph-google-cloud.git config: SERVICE_ACCOUNT_KEY_FILE: {} PROJECT_ID: '...' ORGANIZATION_ID: '...' CONFIGURE_ORGANIZATION_PROJECTS: false storage: engine: neo4j config: username: neo4j password: devpass uri: bolt://localhost:7687 Running Starbase Starbase exposes a CLI for bootstrapping graph integration development and execution. \u276f yarn starbase --help Usage: yarn starbase [options] [command] Starbase graph ingestion orchestrator Options: -h, --help display help for command Commands: run collect and upload entities and relationships setup clone repositories listed in config.yaml help [command] display help for command Run yarn starbase setup to clone or update all integrations listed in the config.yaml file as well as install all dependencies for each integration. Run yarn starbase run to collect data for each listed integration and then push collected data to the storage endpoint listed in config.yaml . For additional information on using Neo4j as a storage endpoint, please see the README.md provided.","title":"Installation"},{"location":"installation/#installation","text":"","title":"Installation"},{"location":"installation/#starbase-usage-and-development","text":"","title":"Starbase Usage and Development"},{"location":"installation/#prerequisites","text":"Install Node.js using the installer or a version manager such as nvm or fnm . Install yarn . Install dependencies with yarn install . Register an account in the system each integration targets for ingestion and obtain API credentials.","title":"Prerequisites"},{"location":"installation/#configuring-starbase","text":"Starbase leverages credentials from external services to authenticate and collect data. When Starbase is started, it reads configuration data from a single configuration file named config.yaml at the root of the project. Copy config.yaml.example to config.yaml cp config.yaml.example config.yaml Supply configuration values in config.yaml for each integration Configuring individual Starbase integrations The individual graph integration configuration field names can be found in their respective open source integration projects (GitHub repositories prefixed with graph-* ) integrations: - name: graph-google-cloud instanceId: testInstanceId directory: ./.integrations/graph-google-cloud gitRemoteUrl: https://github.com/JupiterOne/graph-google-cloud.git config: SERVICE_ACCOUNT_KEY_FILE: {} PROJECT_ID: '...' ORGANIZATION_ID: '...' CONFIGURE_ORGANIZATION_PROJECTS: false storage: engine: neo4j config: username: neo4j password: devpass uri: bolt://localhost:7687","title":"Configuring Starbase"},{"location":"installation/#running-starbase","text":"Starbase exposes a CLI for bootstrapping graph integration development and execution. \u276f yarn starbase --help Usage: yarn starbase [options] [command] Starbase graph ingestion orchestrator Options: -h, --help display help for command Commands: run collect and upload entities and relationships setup clone repositories listed in config.yaml help [command] display help for command Run yarn starbase setup to clone or update all integrations listed in the config.yaml file as well as install all dependencies for each integration. Run yarn starbase run to collect data for each listed integration and then push collected data to the storage endpoint listed in config.yaml . For additional information on using Neo4j as a storage endpoint, please see the README.md provided.","title":"Running Starbase"},{"location":"integrations/","text":"Integrations Starbase integrates with hundreds of services and systems! Here are some highlights: Azure Bitbucket GitHub Google Cloud Google Workspace Jira ...","title":"Integrations Overview"},{"location":"integrations/#integrations","text":"Starbase integrates with hundreds of services and systems! Here are some highlights: Azure Bitbucket GitHub Google Cloud Google Workspace Jira ...","title":"Integrations"},{"location":"integrations/azure/","text":"Azure Azure + JupiterOne Integration Benefits Visualize Azure cloud resources in the JupiterOne graph. Map Azure users to employees in your JupiterOne account. Monitor visibility and governance of your Azure cloud environment by leveraging hundreds of out of the box queries. Monitor compliance against the Azure CIS Benchmarks framework and other security benchmarks using the JupiterOne compliance app. Monitor Azure vulnerabilities and findings from multiple services within the alerts app. Monitor changes to your Azure cloud resources using multiple JupiterOne alert rule packs specific to Azure. How it Works JupiterOne periodically fetches users and cloud resources from Azure to update the graph. Write JupiterOne queries to review and monitor updates to the graph, or leverage existing queries. Configure alerts to take action when the JupiterOne graph changes, or leverage existing alerts. Requirements JupiterOne requires the API credentials for the Azure endpoint, specifically the Directory (tenant) id, the Application (client) id, and the Application (client) secret with the correct permissions assigned. You must have permission in JupiterOne to install new integrations. Support If you need help with this integration, please contact JupiterOne Support . Also, see the Troubleshooting section in this article. Integration Walkthrough Customers authorize access by creating a Service Principal (App Registration) and providing the credentials to JupiterOne. The integration is triggered by an event containing the information for a specific integration instance. Users configure the integration by providing API credentials obtained through the Azure portal. Azure Active Directory is authenticated and accessed through the Microsoft Graph API . Azure Resource Manager is authenticated and accessed through Resource Manager APIs . In Azure To create the App Registration: Go to your Azure portal Navigate to App registrations Create a new App registration, using the Name \"JupiterOne\", selecting Accounts in this organizational directory only , with no \"Redirect URI\" Navigate to the Overview page of the new app Copy the Application (client) ID Copy the Directory (tenant) ID Navigate to the Certificates & secrets section Create a new client secret Copy the generated secret Value (you only get one chance!) API Permissions (Azure Active Directory) Grant permission to read Microsoft Graph information: Navigate to API permissions , choose Microsoft Graph , then Application Permissions Grant the following permissions to the application: Directory.Read.All Policy.Read.All Reports.Read.All Grant admin consent for this directory for the permissions above IAM Roles (Azure Management Groups / Subscriptions) Grant the Reader RBAC subscription role to read Azure Resource Manager information: Navigate to the correct scope for your integration. (RECOMMENDED) If configuring all subscriptions for a tenant: navigate to Management Groups , then to the Tenant Root Group . If configuring a single Azure Subscription: navigate to Subscriptions , choose the subscription from which you want to ingest resources. Create custom role \"JupiterOne Reader\" Navigate to Access control (IAM) -> Add -> Add custom role Create a custom role called \"JupiterOne Reader\" with the following permissions: Microsoft.PolicyInsights/policyStates/queryResults/action Microsoft.Web/sites/config/list/Action Assign Roles to \"JupiterOne\" App Navigate to Access control (IAM) -> Add -> Add role assignment Assign each of the three roles to the \"JupiterOne\" member JupiterOne Reader Reader Key Vault Reader Management Group Reader (If using Configure Subscription Instances flag in JupiterOne) Key Vault Access Policy Please note that listing Key Vault keys and secrets ( rm-keyvault-keys and rm-keyvault-secrets steps) require JupiterOne users to grant the following permissions to the JupiterOne security principal for each Key Vault in their account . See Azure documentation for more information on Assign a Key Vault access policy . Key Permissions Key Management Operations List Secret Permissions Secret Management Operations List In JupiterOne From the configuration Gear Icon , select Integrations . Scroll to the Azure integration tile and click it. Click the Add Configuration button and configure the following settings: Enter the Account Name by which you'd like to identify this Azure account in JupiterOne. Ingested entities will have this value stored in tag.AccountName when Tag with Account Name is checked. Enter a Description that will further assist your team when identifying the integration instance. Select a Polling Interval that you feel is sufficient for your monitoring needs. You may leave this as DISABLED and manually execute the integration. Enter the Directory (tenant) ID of the Active Directory to target in Azure API requests. Enter the Application (client) ID created for JupiterOne, used to authenticate with Azure. Enter the Application (client) Secret associated with the application ID, used to authenticate with Azure. Select the option Ingest Active Directory to ingest Directory information. This should only be enabled in one integration instance per Directory. NOTE: The Ingest Active Directory flag enables the ingestion of azure_user , azure_user_group , and azure_service_principal entities. Configure the correct scope for your integration: (RECOMMENDED) If configuring all subscriptions for a tenant: Select the option Configure Subscription Instances to automatically provision new JupiterOne integration instances for each Azure Subscription in this tenant NOTE: The Configure Subscription Instances flag also enables the ingestion of azure_management_group entities. If configuring a single Azure Subscription: Enter the Subscription ID for the subscription you wish to ingest data from. Click Create Configuration once all values are provided. Troubleshooting Authentication If the Azure integration does not complete, and you encounter a message like [validation_failure] Error occurred while validating integration configuration in your job log, check the following common configuration errors: Verify the Application (client) ID and Application (client) Secret: Make sure that you've verified the proper value for client ID and client secret. The client secret has both a Value property and a Secret ID property. The Secret ID is unused - make sure you haven't accidentally used the Secret ID as the Client ID . Verify that you've enabled the proper API permissions: Make sure the required API permissions (described above) are enabled for the application. Verify that the API permissions have been granted as \"Application\" and not \"Delegated\": The integration requires API Permissions of type Application . Permissions of type Delegated will cause issues in your integration. Verify that your permissions have been \"Grant(ed) admin consent for Directory\": If you have added API Permissions to the application, but have not granted Admin Consent, the permissions are not yet active. Data Model Entities The following entities are created: Resources Entity _type Entity _class FrontDoor azure_frontdoor Service FrontDoor Backend Pool azure_frontdoor_backend_pool Configuration FrontDoor Frontend Endpoint azure_frontdoor_frontend_endpoint Gateway FrontDoor Routing Rule azure_frontdoor_routing_rule Route FrontDoor Rules Engine azure_frontdoor_rules_engine Ruleset [AD] Account azure_account Account [AD] Group azure_user_group UserGroup [AD] Group Member azure_group_member User [AD] Service Principal azure_service_principal Service [AD] User azure_user User [RM] API Management API azure_api_management_api ApplicationEndpoint [RM] API Management Service azure_api_management_service Gateway [RM] Advisor Recommendation azure_advisor_recommendation Finding [RM] App Service Plan azure_app_service_plan Configuration [RM] Azure Kubernetes Cluster azure_kubernetes_cluster Cluster [RM] Azure Managed Disk azure_managed_disk DataStore , Disk [RM] Batch Account azure_batch_account Service [RM] Batch Application azure_batch_application Process [RM] Batch Certificate azure_batch_certificate Certificate [RM] Batch Pool azure_batch_pool Cluster [RM] CDN Endpoint azure_cdn_endpoint Gateway [RM] CDN Profile azure_cdn_profile Service [RM] Classic Admin azure_classic_admin_group UserGroup [RM] Container azure_container Container [RM] Container Group azure_container_group Group [RM] Container Registry azure_container_registry DataStore [RM] Container Registry Webhook azure_container_registry_webhook ApplicationEndpoint [RM] Container Volume azure_container_volume Disk [RM] Cosmos DB Account azure_cosmosdb_account Account , Service [RM] Cosmos DB Database azure_cosmosdb_sql_database Database , DataStore [RM] DNS Record Set azure_dns_record_set DomainRecord [RM] DNS Zone azure_dns_zone DomainZone [RM] Event Grid Domain azure_event_grid_domain Service [RM] Event Grid Domain Topic azure_event_grid_domain_topic Queue [RM] Event Grid Topic azure_event_grid_topic Queue [RM] Event Grid Topic Subscription azure_event_grid_topic_subscription Subscription [RM] Function App azure_function_app Function [RM] Gallery azure_gallery Repository [RM] Image azure_image Image [RM] Key Vault azure_keyvault_service Service [RM] Key Vault Key azure_keyvault_key Key [RM] Key Vault Secret azure_keyvault_secret Secret [RM] Load Balancer azure_lb Gateway [RM] Location azure_location Site [RM] Management Group azure_management_group Group [RM] MariaDB Database azure_mariadb_database Database , DataStore [RM] MariaDB Server azure_mariadb_server Database , DataStore , Host [RM] Monitor Activity Log Alert azure_monitor_activity_log_alert Rule [RM] Monitor Diagnostic Settings Resource azure_diagnostic_setting Configuration [RM] Monitor Log Profile azure_monitor_log_profile Configuration [RM] MySQL Database azure_mysql_database Database , DataStore [RM] MySQL Server azure_mysql_server Database , DataStore , Host [RM] Network Firewall azure_network_firewall Firewall [RM] Network Interface azure_nic NetworkInterface [RM] Network Watcher azure_network_watcher Resource [RM] Policy Assignment azure_policy_assignment ControlPolicy [RM] Policy Definition azure_policy_definition Rule [RM] Policy Set Definition azure_policy_set_definition Ruleset [RM] Policy State azure_policy_state Review [RM] PostgreSQL Database azure_postgresql_database Database , DataStore [RM] PostgreSQL Server azure_postgresql_server Database , DataStore , Host [RM] PostgreSQL Server Firewall Rule azure_postgresql_server_firewall_rule Firewall [RM] Private DNS Record Set azure_private_dns_record_set DomainRecord [RM] Private DNS Zone azure_private_dns_zone DomainZone [RM] Private Endpoint azure_private_endpoint NetworkEndpoint [RM] Public IP Address azure_public_ip IpAddress [RM] Redis Cache azure_redis_cache Database , DataStore , Cluster [RM] Redis Firewall Rule azure_firewall_rule Firewall [RM] Resource Group azure_resource_group Group [RM] Resource Lock azure_resource_lock Rule [RM] Role Assignment azure_role_assignment AccessPolicy [RM] Role Definition azure_role_definition AccessRole [RM] SQL Database azure_sql_database Database , DataStore [RM] SQL Server azure_sql_server Database , DataStore , Host [RM] SQL Server Active Directory Admin azure_sql_server_active_directory_admin AccessRole [RM] SQL Server Firewall Rule azure_sql_server_firewall_rule Firewall [RM] Security Assessment azure_security_assessment Assessment [RM] Security Center Auto Provisioning Setting azure_security_center_auto_provisioning_setting Configuration [RM] Security Center Setting azure_security_center_setting Configuration [RM] Security Center Subscription Pricing azure_security_center_subscription_pricing Configuration [RM] Security Contact azure_security_center_contact Resource [RM] Security Group azure_security_group Firewall [RM] Security Group Flow Logs azure_security_group_flow_logs Logs [RM] Service Bus Namespace azure_service_bus_namespace Service [RM] Service Bus Queue azure_service_bus_queue Queue [RM] Service Bus Subscription azure_service_bus_subscription Subscription [RM] Service Bus Topic azure_service_bus_topic Queue [RM] Shared Image azure_shared_image Image [RM] Shared Image Version azure_shared_image_version Image [RM] Storage Account azure_storage_account Service [RM] Storage Container azure_storage_container DataStore [RM] Storage File Share azure_storage_file_share DataStore [RM] Storage Queue azure_storage_queue Queue [RM] Storage Table azure_storage_table DataStore , Database [RM] Subnet azure_subnet Network [RM] Subscription azure_subscription Account [RM] Virtual Machine azure_vm Host [RM] Virtual Machine Extension azure_vm_extension Application [RM] Virtual Network azure_vnet Network [RM] Web App azure_web_app Application Relationships The following relationships are created: Source Entity _type Relationship _class Target Entity _type azure_account HAS azure_user_group azure_account HAS azure_keyvault_service azure_account HAS azure_management_group azure_account HAS azure_user azure_api_management_service HAS azure_api_management_api azure_security_assessment IDENTIFIED azure_advisor_recommendation azure_batch_account HAS azure_batch_application azure_batch_account HAS azure_batch_certificate azure_batch_account HAS azure_batch_pool azure_cdn_profile HAS azure_cdn_endpoint azure_classic_admin_group HAS azure_user azure_container_group HAS azure_container azure_container_group HAS azure_container_volume azure_container_registry HAS azure_container_registry_webhook azure_container USES azure_container_volume azure_container_volume USES azure_storage_file_share azure_cosmosdb_account HAS azure_cosmosdb_sql_database azure_diagnostic_setting USES azure_storage_account azure_dns_zone HAS azure_dns_record_set azure_event_grid_domain HAS azure_event_grid_domain_topic azure_event_grid_domain_topic HAS azure_event_grid_topic_subscription azure_event_grid_topic HAS azure_event_grid_topic_subscription azure_frontdoor HAS azure_frontdoor_backend_pool azure_frontdoor HAS azure_frontdoor_frontend_endpoint azure_frontdoor HAS azure_frontdoor_routing_rule azure_frontdoor HAS azure_frontdoor_rules_engine azure_function_app USES azure_app_service_plan azure_gallery CONTAINS azure_shared_image azure_user_group HAS azure_user_group azure_user_group HAS azure_group_member azure_user_group HAS azure_user azure_keyvault_service ALLOWS ANY_PRINCIPAL azure_keyvault_service CONTAINS azure_keyvault_key azure_keyvault_service CONTAINS azure_keyvault_secret azure_lb CONNECTS azure_nic azure_management_group CONTAINS azure_management_group azure_mariadb_server HAS azure_mariadb_database azure_monitor_activity_log_alert MONITORS ANY_SCOPE azure_monitor_log_profile USES azure_storage_account azure_mysql_server HAS azure_mysql_database azure_network_watcher HAS azure_security_group_flow_logs azure_policy_assignment HAS azure_policy_state azure_policy_assignment USES azure_policy_definition azure_policy_assignment USES azure_policy_set_definition azure_policy_definition DEFINES azure_policy_state azure_policy_set_definition CONTAINS azure_policy_definition azure_postgresql_server HAS azure_postgresql_database azure_postgresql_server HAS azure_postgresql_server_firewall_rule azure_private_dns_zone HAS azure_private_dns_record_set azure_private_endpoint CONNECTS ANY_RESOURCE azure_private_endpoint USES azure_nic azure_redis_cache CONNECTS azure_redis_cache azure_redis_cache HAS azure_firewall_rule azure_resource_group HAS azure_api_management_service azure_resource_group HAS azure_app_service_plan azure_resource_group HAS azure_batch_account azure_resource_group HAS azure_cdn_profile azure_resource_group HAS azure_container_group azure_resource_group HAS azure_container_registry azure_resource_group HAS azure_cosmosdb_account azure_resource_group HAS azure_dns_zone azure_resource_group HAS azure_event_grid_domain azure_resource_group HAS azure_event_grid_topic azure_resource_group HAS azure_frontdoor azure_resource_group HAS azure_function_app azure_resource_group HAS azure_gallery azure_resource_group HAS azure_image azure_resource_group HAS azure_keyvault_service azure_resource_group HAS azure_kubernetes_cluster azure_resource_group HAS azure_lb azure_resource_group HAS azure_managed_disk azure_resource_group HAS azure_mariadb_server azure_resource_group HAS azure_monitor_activity_log_alert azure_resource_group HAS azure_mysql_server azure_resource_group HAS azure_network_firewall azure_resource_group HAS azure_network_watcher azure_resource_group HAS azure_nic azure_resource_group HAS azure_postgresql_server azure_resource_group HAS azure_private_dns_zone azure_resource_group HAS azure_private_endpoint azure_resource_group HAS azure_public_ip azure_resource_group HAS azure_redis_cache azure_resource_group HAS azure_security_group azure_resource_group HAS azure_service_bus_namespace azure_resource_group HAS azure_sql_server azure_resource_group HAS azure_storage_account azure_resource_group HAS azure_vm azure_resource_group HAS azure_vnet azure_resource_group HAS azure_web_app ANY_SCOPE HAS azure_diagnostic_setting ANY_SCOPE HAS azure_advisor_recommendation ANY_SCOPE HAS azure_policy_assignment ANY_RESOURCE HAS azure_policy_state azure_resource_lock HAS ANY_SCOPE azure_role_assignment ALLOWS ANY_SCOPE azure_role_assignment ASSIGNED azure_application azure_role_assignment ASSIGNED azure_directory azure_role_assignment ASSIGNED azure_directory_role_template azure_role_assignment ASSIGNED azure_everyone azure_role_assignment ASSIGNED azure_foreign_group azure_role_assignment ASSIGNED azure_msi azure_role_assignment ASSIGNED azure_service_principal azure_role_assignment ASSIGNED azure_unknown azure_role_assignment ASSIGNED azure_unknown_principal_type azure_role_assignment ASSIGNED azure_user azure_role_assignment ASSIGNED azure_user_group azure_role_assignment USES azure_role_definition azure_security_group_flow_logs USES azure_storage_account azure_security_group HAS azure_security_group_flow_logs azure_security_group PROTECTS azure_nic azure_security_group PROTECTS azure_subnet azure_security_group ALLOWS azure_subnet azure_service_bus_namespace HAS azure_service_bus_queue azure_service_bus_namespace HAS azure_service_bus_topic azure_service_bus_topic HAS azure_service_bus_subscription azure_shared_image HAS azure_shared_image_version azure_sql_server HAS azure_sql_server_active_directory_admin azure_sql_server HAS azure_sql_database azure_sql_server HAS azure_sql_server_firewall_rule azure_storage_account HAS azure_storage_container azure_storage_account HAS azure_storage_file_share azure_storage_account HAS azure_storage_queue azure_storage_account HAS azure_storage_table azure_storage_account USES azure_keyvault_service azure_subnet HAS azure_private_endpoint azure_subnet HAS azure_vm azure_subscription CONTAINS azure_role_definition azure_subscription HAS azure_monitor_log_profile azure_subscription HAS azure_resource_group azure_subscription HAS azure_security_center_auto_provisioning_setting azure_subscription HAS azure_security_center_contact azure_subscription HAS azure_security_center_setting azure_subscription HAS azure_security_center_subscription_pricing azure_subscription PERFORMED azure_security_assessment azure_vm GENERATED azure_shared_image_version azure_vm USES azure_image azure_vm USES azure_managed_disk azure_vm USES azure_service_principal azure_vm USES azure_nic azure_vm USES azure_public_ip azure_vm USES azure_shared_image azure_vm USES azure_shared_image_version azure_vm USES azure_storage_account azure_vnet CONTAINS azure_subnet azure_web_app USES azure_app_service_plan Mapped Relationships The following mapped relationships are created: Source Entity _type Relationship _class Target Entity _type Direction azure_network_watcher HAS *azure_location* REVERSE azure_management_group HAS *azure_subscription* FORWARD azure_subscription USES *azure_location* FORWARD Diagnostic Settings Azure Diagnostic Settings are supported on many Azure resources. A list of supported services / metrics can be found in Azure documentation . The JupiterOne graph-azure project currently ingests diagnostic settings for the following entities: azure_api_management_service azure_batch_account azure_cdn_endpoint azure_cdn_profile azure_container_registry azure_event_grid_domain azure_event_grid_topic azure_keyvault_service Log Categories: AuditEvent azure_lb azure_mariadb_server azure_mysql_server azure_network_firewall azure_postgresql_server azure_public_ip azure_security_group azure_sql_server azure_subscription Log Categories: Administrative Alert Policy Security azure_vnet","title":"Azure"},{"location":"integrations/azure/#azure","text":"","title":"Azure"},{"location":"integrations/azure/#azure-jupiterone-integration-benefits","text":"Visualize Azure cloud resources in the JupiterOne graph. Map Azure users to employees in your JupiterOne account. Monitor visibility and governance of your Azure cloud environment by leveraging hundreds of out of the box queries. Monitor compliance against the Azure CIS Benchmarks framework and other security benchmarks using the JupiterOne compliance app. Monitor Azure vulnerabilities and findings from multiple services within the alerts app. Monitor changes to your Azure cloud resources using multiple JupiterOne alert rule packs specific to Azure.","title":"Azure + JupiterOne Integration Benefits"},{"location":"integrations/azure/#how-it-works","text":"JupiterOne periodically fetches users and cloud resources from Azure to update the graph. Write JupiterOne queries to review and monitor updates to the graph, or leverage existing queries. Configure alerts to take action when the JupiterOne graph changes, or leverage existing alerts.","title":"How it Works"},{"location":"integrations/azure/#requirements","text":"JupiterOne requires the API credentials for the Azure endpoint, specifically the Directory (tenant) id, the Application (client) id, and the Application (client) secret with the correct permissions assigned. You must have permission in JupiterOne to install new integrations.","title":"Requirements"},{"location":"integrations/azure/#support","text":"If you need help with this integration, please contact JupiterOne Support . Also, see the Troubleshooting section in this article.","title":"Support"},{"location":"integrations/azure/#integration-walkthrough","text":"Customers authorize access by creating a Service Principal (App Registration) and providing the credentials to JupiterOne. The integration is triggered by an event containing the information for a specific integration instance. Users configure the integration by providing API credentials obtained through the Azure portal. Azure Active Directory is authenticated and accessed through the Microsoft Graph API . Azure Resource Manager is authenticated and accessed through Resource Manager APIs .","title":"Integration Walkthrough"},{"location":"integrations/azure/#in-azure","text":"To create the App Registration: Go to your Azure portal Navigate to App registrations Create a new App registration, using the Name \"JupiterOne\", selecting Accounts in this organizational directory only , with no \"Redirect URI\" Navigate to the Overview page of the new app Copy the Application (client) ID Copy the Directory (tenant) ID Navigate to the Certificates & secrets section Create a new client secret Copy the generated secret Value (you only get one chance!)","title":"In Azure"},{"location":"integrations/azure/#api-permissions-azure-active-directory","text":"Grant permission to read Microsoft Graph information: Navigate to API permissions , choose Microsoft Graph , then Application Permissions Grant the following permissions to the application: Directory.Read.All Policy.Read.All Reports.Read.All Grant admin consent for this directory for the permissions above","title":"API Permissions (Azure Active Directory)"},{"location":"integrations/azure/#iam-roles-azure-management-groups-subscriptions","text":"Grant the Reader RBAC subscription role to read Azure Resource Manager information: Navigate to the correct scope for your integration. (RECOMMENDED) If configuring all subscriptions for a tenant: navigate to Management Groups , then to the Tenant Root Group . If configuring a single Azure Subscription: navigate to Subscriptions , choose the subscription from which you want to ingest resources. Create custom role \"JupiterOne Reader\" Navigate to Access control (IAM) -> Add -> Add custom role Create a custom role called \"JupiterOne Reader\" with the following permissions: Microsoft.PolicyInsights/policyStates/queryResults/action Microsoft.Web/sites/config/list/Action Assign Roles to \"JupiterOne\" App Navigate to Access control (IAM) -> Add -> Add role assignment Assign each of the three roles to the \"JupiterOne\" member JupiterOne Reader Reader Key Vault Reader Management Group Reader (If using Configure Subscription Instances flag in JupiterOne)","title":"IAM Roles (Azure Management Groups / Subscriptions)"},{"location":"integrations/azure/#key-vault-access-policy","text":"Please note that listing Key Vault keys and secrets ( rm-keyvault-keys and rm-keyvault-secrets steps) require JupiterOne users to grant the following permissions to the JupiterOne security principal for each Key Vault in their account . See Azure documentation for more information on Assign a Key Vault access policy . Key Permissions Key Management Operations List Secret Permissions Secret Management Operations List","title":"Key Vault Access Policy"},{"location":"integrations/azure/#in-jupiterone","text":"From the configuration Gear Icon , select Integrations . Scroll to the Azure integration tile and click it. Click the Add Configuration button and configure the following settings: Enter the Account Name by which you'd like to identify this Azure account in JupiterOne. Ingested entities will have this value stored in tag.AccountName when Tag with Account Name is checked. Enter a Description that will further assist your team when identifying the integration instance. Select a Polling Interval that you feel is sufficient for your monitoring needs. You may leave this as DISABLED and manually execute the integration. Enter the Directory (tenant) ID of the Active Directory to target in Azure API requests. Enter the Application (client) ID created for JupiterOne, used to authenticate with Azure. Enter the Application (client) Secret associated with the application ID, used to authenticate with Azure. Select the option Ingest Active Directory to ingest Directory information. This should only be enabled in one integration instance per Directory. NOTE: The Ingest Active Directory flag enables the ingestion of azure_user , azure_user_group , and azure_service_principal entities. Configure the correct scope for your integration: (RECOMMENDED) If configuring all subscriptions for a tenant: Select the option Configure Subscription Instances to automatically provision new JupiterOne integration instances for each Azure Subscription in this tenant NOTE: The Configure Subscription Instances flag also enables the ingestion of azure_management_group entities. If configuring a single Azure Subscription: Enter the Subscription ID for the subscription you wish to ingest data from. Click Create Configuration once all values are provided.","title":"In JupiterOne"},{"location":"integrations/azure/#troubleshooting","text":"","title":"Troubleshooting"},{"location":"integrations/azure/#authentication","text":"If the Azure integration does not complete, and you encounter a message like [validation_failure] Error occurred while validating integration configuration in your job log, check the following common configuration errors: Verify the Application (client) ID and Application (client) Secret: Make sure that you've verified the proper value for client ID and client secret. The client secret has both a Value property and a Secret ID property. The Secret ID is unused - make sure you haven't accidentally used the Secret ID as the Client ID . Verify that you've enabled the proper API permissions: Make sure the required API permissions (described above) are enabled for the application. Verify that the API permissions have been granted as \"Application\" and not \"Delegated\": The integration requires API Permissions of type Application . Permissions of type Delegated will cause issues in your integration. Verify that your permissions have been \"Grant(ed) admin consent for Directory\": If you have added API Permissions to the application, but have not granted Admin Consent, the permissions are not yet active.","title":"Authentication"},{"location":"integrations/azure/#data-model","text":"","title":"Data Model"},{"location":"integrations/azure/#entities","text":"The following entities are created: Resources Entity _type Entity _class FrontDoor azure_frontdoor Service FrontDoor Backend Pool azure_frontdoor_backend_pool Configuration FrontDoor Frontend Endpoint azure_frontdoor_frontend_endpoint Gateway FrontDoor Routing Rule azure_frontdoor_routing_rule Route FrontDoor Rules Engine azure_frontdoor_rules_engine Ruleset [AD] Account azure_account Account [AD] Group azure_user_group UserGroup [AD] Group Member azure_group_member User [AD] Service Principal azure_service_principal Service [AD] User azure_user User [RM] API Management API azure_api_management_api ApplicationEndpoint [RM] API Management Service azure_api_management_service Gateway [RM] Advisor Recommendation azure_advisor_recommendation Finding [RM] App Service Plan azure_app_service_plan Configuration [RM] Azure Kubernetes Cluster azure_kubernetes_cluster Cluster [RM] Azure Managed Disk azure_managed_disk DataStore , Disk [RM] Batch Account azure_batch_account Service [RM] Batch Application azure_batch_application Process [RM] Batch Certificate azure_batch_certificate Certificate [RM] Batch Pool azure_batch_pool Cluster [RM] CDN Endpoint azure_cdn_endpoint Gateway [RM] CDN Profile azure_cdn_profile Service [RM] Classic Admin azure_classic_admin_group UserGroup [RM] Container azure_container Container [RM] Container Group azure_container_group Group [RM] Container Registry azure_container_registry DataStore [RM] Container Registry Webhook azure_container_registry_webhook ApplicationEndpoint [RM] Container Volume azure_container_volume Disk [RM] Cosmos DB Account azure_cosmosdb_account Account , Service [RM] Cosmos DB Database azure_cosmosdb_sql_database Database , DataStore [RM] DNS Record Set azure_dns_record_set DomainRecord [RM] DNS Zone azure_dns_zone DomainZone [RM] Event Grid Domain azure_event_grid_domain Service [RM] Event Grid Domain Topic azure_event_grid_domain_topic Queue [RM] Event Grid Topic azure_event_grid_topic Queue [RM] Event Grid Topic Subscription azure_event_grid_topic_subscription Subscription [RM] Function App azure_function_app Function [RM] Gallery azure_gallery Repository [RM] Image azure_image Image [RM] Key Vault azure_keyvault_service Service [RM] Key Vault Key azure_keyvault_key Key [RM] Key Vault Secret azure_keyvault_secret Secret [RM] Load Balancer azure_lb Gateway [RM] Location azure_location Site [RM] Management Group azure_management_group Group [RM] MariaDB Database azure_mariadb_database Database , DataStore [RM] MariaDB Server azure_mariadb_server Database , DataStore , Host [RM] Monitor Activity Log Alert azure_monitor_activity_log_alert Rule [RM] Monitor Diagnostic Settings Resource azure_diagnostic_setting Configuration [RM] Monitor Log Profile azure_monitor_log_profile Configuration [RM] MySQL Database azure_mysql_database Database , DataStore [RM] MySQL Server azure_mysql_server Database , DataStore , Host [RM] Network Firewall azure_network_firewall Firewall [RM] Network Interface azure_nic NetworkInterface [RM] Network Watcher azure_network_watcher Resource [RM] Policy Assignment azure_policy_assignment ControlPolicy [RM] Policy Definition azure_policy_definition Rule [RM] Policy Set Definition azure_policy_set_definition Ruleset [RM] Policy State azure_policy_state Review [RM] PostgreSQL Database azure_postgresql_database Database , DataStore [RM] PostgreSQL Server azure_postgresql_server Database , DataStore , Host [RM] PostgreSQL Server Firewall Rule azure_postgresql_server_firewall_rule Firewall [RM] Private DNS Record Set azure_private_dns_record_set DomainRecord [RM] Private DNS Zone azure_private_dns_zone DomainZone [RM] Private Endpoint azure_private_endpoint NetworkEndpoint [RM] Public IP Address azure_public_ip IpAddress [RM] Redis Cache azure_redis_cache Database , DataStore , Cluster [RM] Redis Firewall Rule azure_firewall_rule Firewall [RM] Resource Group azure_resource_group Group [RM] Resource Lock azure_resource_lock Rule [RM] Role Assignment azure_role_assignment AccessPolicy [RM] Role Definition azure_role_definition AccessRole [RM] SQL Database azure_sql_database Database , DataStore [RM] SQL Server azure_sql_server Database , DataStore , Host [RM] SQL Server Active Directory Admin azure_sql_server_active_directory_admin AccessRole [RM] SQL Server Firewall Rule azure_sql_server_firewall_rule Firewall [RM] Security Assessment azure_security_assessment Assessment [RM] Security Center Auto Provisioning Setting azure_security_center_auto_provisioning_setting Configuration [RM] Security Center Setting azure_security_center_setting Configuration [RM] Security Center Subscription Pricing azure_security_center_subscription_pricing Configuration [RM] Security Contact azure_security_center_contact Resource [RM] Security Group azure_security_group Firewall [RM] Security Group Flow Logs azure_security_group_flow_logs Logs [RM] Service Bus Namespace azure_service_bus_namespace Service [RM] Service Bus Queue azure_service_bus_queue Queue [RM] Service Bus Subscription azure_service_bus_subscription Subscription [RM] Service Bus Topic azure_service_bus_topic Queue [RM] Shared Image azure_shared_image Image [RM] Shared Image Version azure_shared_image_version Image [RM] Storage Account azure_storage_account Service [RM] Storage Container azure_storage_container DataStore [RM] Storage File Share azure_storage_file_share DataStore [RM] Storage Queue azure_storage_queue Queue [RM] Storage Table azure_storage_table DataStore , Database [RM] Subnet azure_subnet Network [RM] Subscription azure_subscription Account [RM] Virtual Machine azure_vm Host [RM] Virtual Machine Extension azure_vm_extension Application [RM] Virtual Network azure_vnet Network [RM] Web App azure_web_app Application","title":"Entities"},{"location":"integrations/azure/#relationships","text":"The following relationships are created: Source Entity _type Relationship _class Target Entity _type azure_account HAS azure_user_group azure_account HAS azure_keyvault_service azure_account HAS azure_management_group azure_account HAS azure_user azure_api_management_service HAS azure_api_management_api azure_security_assessment IDENTIFIED azure_advisor_recommendation azure_batch_account HAS azure_batch_application azure_batch_account HAS azure_batch_certificate azure_batch_account HAS azure_batch_pool azure_cdn_profile HAS azure_cdn_endpoint azure_classic_admin_group HAS azure_user azure_container_group HAS azure_container azure_container_group HAS azure_container_volume azure_container_registry HAS azure_container_registry_webhook azure_container USES azure_container_volume azure_container_volume USES azure_storage_file_share azure_cosmosdb_account HAS azure_cosmosdb_sql_database azure_diagnostic_setting USES azure_storage_account azure_dns_zone HAS azure_dns_record_set azure_event_grid_domain HAS azure_event_grid_domain_topic azure_event_grid_domain_topic HAS azure_event_grid_topic_subscription azure_event_grid_topic HAS azure_event_grid_topic_subscription azure_frontdoor HAS azure_frontdoor_backend_pool azure_frontdoor HAS azure_frontdoor_frontend_endpoint azure_frontdoor HAS azure_frontdoor_routing_rule azure_frontdoor HAS azure_frontdoor_rules_engine azure_function_app USES azure_app_service_plan azure_gallery CONTAINS azure_shared_image azure_user_group HAS azure_user_group azure_user_group HAS azure_group_member azure_user_group HAS azure_user azure_keyvault_service ALLOWS ANY_PRINCIPAL azure_keyvault_service CONTAINS azure_keyvault_key azure_keyvault_service CONTAINS azure_keyvault_secret azure_lb CONNECTS azure_nic azure_management_group CONTAINS azure_management_group azure_mariadb_server HAS azure_mariadb_database azure_monitor_activity_log_alert MONITORS ANY_SCOPE azure_monitor_log_profile USES azure_storage_account azure_mysql_server HAS azure_mysql_database azure_network_watcher HAS azure_security_group_flow_logs azure_policy_assignment HAS azure_policy_state azure_policy_assignment USES azure_policy_definition azure_policy_assignment USES azure_policy_set_definition azure_policy_definition DEFINES azure_policy_state azure_policy_set_definition CONTAINS azure_policy_definition azure_postgresql_server HAS azure_postgresql_database azure_postgresql_server HAS azure_postgresql_server_firewall_rule azure_private_dns_zone HAS azure_private_dns_record_set azure_private_endpoint CONNECTS ANY_RESOURCE azure_private_endpoint USES azure_nic azure_redis_cache CONNECTS azure_redis_cache azure_redis_cache HAS azure_firewall_rule azure_resource_group HAS azure_api_management_service azure_resource_group HAS azure_app_service_plan azure_resource_group HAS azure_batch_account azure_resource_group HAS azure_cdn_profile azure_resource_group HAS azure_container_group azure_resource_group HAS azure_container_registry azure_resource_group HAS azure_cosmosdb_account azure_resource_group HAS azure_dns_zone azure_resource_group HAS azure_event_grid_domain azure_resource_group HAS azure_event_grid_topic azure_resource_group HAS azure_frontdoor azure_resource_group HAS azure_function_app azure_resource_group HAS azure_gallery azure_resource_group HAS azure_image azure_resource_group HAS azure_keyvault_service azure_resource_group HAS azure_kubernetes_cluster azure_resource_group HAS azure_lb azure_resource_group HAS azure_managed_disk azure_resource_group HAS azure_mariadb_server azure_resource_group HAS azure_monitor_activity_log_alert azure_resource_group HAS azure_mysql_server azure_resource_group HAS azure_network_firewall azure_resource_group HAS azure_network_watcher azure_resource_group HAS azure_nic azure_resource_group HAS azure_postgresql_server azure_resource_group HAS azure_private_dns_zone azure_resource_group HAS azure_private_endpoint azure_resource_group HAS azure_public_ip azure_resource_group HAS azure_redis_cache azure_resource_group HAS azure_security_group azure_resource_group HAS azure_service_bus_namespace azure_resource_group HAS azure_sql_server azure_resource_group HAS azure_storage_account azure_resource_group HAS azure_vm azure_resource_group HAS azure_vnet azure_resource_group HAS azure_web_app ANY_SCOPE HAS azure_diagnostic_setting ANY_SCOPE HAS azure_advisor_recommendation ANY_SCOPE HAS azure_policy_assignment ANY_RESOURCE HAS azure_policy_state azure_resource_lock HAS ANY_SCOPE azure_role_assignment ALLOWS ANY_SCOPE azure_role_assignment ASSIGNED azure_application azure_role_assignment ASSIGNED azure_directory azure_role_assignment ASSIGNED azure_directory_role_template azure_role_assignment ASSIGNED azure_everyone azure_role_assignment ASSIGNED azure_foreign_group azure_role_assignment ASSIGNED azure_msi azure_role_assignment ASSIGNED azure_service_principal azure_role_assignment ASSIGNED azure_unknown azure_role_assignment ASSIGNED azure_unknown_principal_type azure_role_assignment ASSIGNED azure_user azure_role_assignment ASSIGNED azure_user_group azure_role_assignment USES azure_role_definition azure_security_group_flow_logs USES azure_storage_account azure_security_group HAS azure_security_group_flow_logs azure_security_group PROTECTS azure_nic azure_security_group PROTECTS azure_subnet azure_security_group ALLOWS azure_subnet azure_service_bus_namespace HAS azure_service_bus_queue azure_service_bus_namespace HAS azure_service_bus_topic azure_service_bus_topic HAS azure_service_bus_subscription azure_shared_image HAS azure_shared_image_version azure_sql_server HAS azure_sql_server_active_directory_admin azure_sql_server HAS azure_sql_database azure_sql_server HAS azure_sql_server_firewall_rule azure_storage_account HAS azure_storage_container azure_storage_account HAS azure_storage_file_share azure_storage_account HAS azure_storage_queue azure_storage_account HAS azure_storage_table azure_storage_account USES azure_keyvault_service azure_subnet HAS azure_private_endpoint azure_subnet HAS azure_vm azure_subscription CONTAINS azure_role_definition azure_subscription HAS azure_monitor_log_profile azure_subscription HAS azure_resource_group azure_subscription HAS azure_security_center_auto_provisioning_setting azure_subscription HAS azure_security_center_contact azure_subscription HAS azure_security_center_setting azure_subscription HAS azure_security_center_subscription_pricing azure_subscription PERFORMED azure_security_assessment azure_vm GENERATED azure_shared_image_version azure_vm USES azure_image azure_vm USES azure_managed_disk azure_vm USES azure_service_principal azure_vm USES azure_nic azure_vm USES azure_public_ip azure_vm USES azure_shared_image azure_vm USES azure_shared_image_version azure_vm USES azure_storage_account azure_vnet CONTAINS azure_subnet azure_web_app USES azure_app_service_plan","title":"Relationships"},{"location":"integrations/azure/#mapped-relationships","text":"The following mapped relationships are created: Source Entity _type Relationship _class Target Entity _type Direction azure_network_watcher HAS *azure_location* REVERSE azure_management_group HAS *azure_subscription* FORWARD azure_subscription USES *azure_location* FORWARD","title":"Mapped Relationships"},{"location":"integrations/azure/#diagnostic-settings","text":"Azure Diagnostic Settings are supported on many Azure resources. A list of supported services / metrics can be found in Azure documentation . The JupiterOne graph-azure project currently ingests diagnostic settings for the following entities: azure_api_management_service azure_batch_account azure_cdn_endpoint azure_cdn_profile azure_container_registry azure_event_grid_domain azure_event_grid_topic azure_keyvault_service Log Categories: AuditEvent azure_lb azure_mariadb_server azure_mysql_server azure_network_firewall azure_postgresql_server azure_public_ip azure_security_group azure_sql_server azure_subscription Log Categories: Administrative Alert Policy Security azure_vnet","title":"Diagnostic Settings"},{"location":"integrations/google-cloud/","text":"Google Cloud Google Cloud + JupiterOne Integration Benefits Visualize Google Cloud resources in the JupiterOne graph. Map Google users to employees in your JupiterOne account. Monitor visibility and governance of your Google Cloud environment by leveraging hundreds of out of the box queries. Monitor compliance against the Google Cloud CIS Framework and other security benchmarks using the JupiterOne compliance app. Monitor changes to your Google Cloud resources using multiple JupiterOne alert rule packs specific to Google Cloud. How it Works JupiterOne periodically fetches users and cloud resources from Google Cloud to update the graph. Write JupiterOne queries to review and monitor updates to the graph, or leverage existing queries. Configure alerts to take action when the JupiterOne graph changes, or leverage existing alerts. Requirements JupiterOne requires the contents of a Google Cloud service account key file with the correct API services enabled (see the Integration Walkthrough ). You must have permission in JupiterOne to install new integrations. Support If you need help with this integration, please contact JupiterOne Support . Integration Walkthrough Customers authorize access by creating a Google Cloud service account and providing the service account key to JupiterOne. In Google Cloud A Google Cloud service account and a Google Cloud service account key must be created in order to run the integration. The service account key is used to authenticate on behalf of the integration's Google Cloud project and ingest data into JupiterOne. Google Cloud has most API services disabled by default. When a Google Cloud service API is disabled, the JupiterOne integration will not ingest the data from that API. The following Google Cloud service APIs must be enabled to ingest all of the supported data into JupiterOne: Service Name Service API Access Context Manager accesscontextmanager.googleapis.com API Gateway apigateway.googleapis.com App Engine Admin appengine.googleapis.com BigQuery bigquery.googleapis.com Binary Authorization binaryauthorization.googleapis.com Certificate Authority Service privateca.googleapis.com Cloud Asset cloudasset.googleapis.com Cloud DNS dns.googleapis.com Cloud Functions cloudfunctions.googleapis.com Cloud Key Management Service (KMS) cloudkms.googleapis.com Cloud Logging logging.googleapis.com Cloud Memorystore for Memcached memcache.googleapis.com Cloud Pub/Sub pubsub.googleapis.com Cloud Resource Manager cloudresourcemanager.googleapis.com Cloud Run run.googleapis.com Cloud Spanner spanner.googleapis.com Cloud SQL Admin sqladmin.googleapis.com Cloud Storage storage.googleapis.com Compute Engine compute.googleapis.com Google Cloud Memorystore for Redis redis.googleapis.com Identity and Access Management (IAM) iam.googleapis.com Kubernetes Engine container.googleapis.com Service Usage serviceusage.googleapis.com Stackdriver Monitoring monitoring.googleapis.com Google Cloud service APIs can be enabled using one of the following methods: Enabling Google Cloud Service API from Google Cloud Console Click on the service name link that you'd like to enable from the table above Select your Google Cloud project from the project dropdown menu Click the \"Enable\" button Enabling Google Cloud Service API from gcloud CLI Instructions on how to setup the gcloud CLI can be found in the JupiterOne Google Cloud integration developer documentation . After setting up the gcloud CLI , you can run the following command to enable all services that the JupiterOne integration supports: NOTE You can only enable 20 services at a time gcloud services enable \\ accesscontextmanager.googleapis.com \\ apigateway.googleapis.com \\ appengine.googleapis.com \\ bigquery.googleapis.com \\ binaryauthorization.googleapis.com \\ privateca.googleapis.com \\ cloudasset.googleapis.com \\ dns.googleapis.com \\ cloudfunctions.googleapis.com \\ cloudkms.googleapis.com \\ logging.googleapis.com \\ memcache.googleapis.com \\ pubsub.googleapis.com \\ cloudresourcemanager.googleapis.com \\ run.googleapis.com \\ spanner.googleapis.com \\ sqladmin.googleapis.com \\ storage.googleapis.com \\ compute.googleapis.com \\ redis.googleapis.com \\ iam.googleapis.com \\ container.googleapis.com \\ serviceusage.googleapis.com \\ monitoring.googleapis.com Creating Google Cloud project service account See the Google Cloud service account documentation for more information on how to create a service account in the project that you would like to ingest data from. We must assign the correct permissions to the newly created service account for the integration to be run. We recommend using the following roles managed by Google Cloud: roles/iam.securityReviewer roles/iam.organizationRoleViewer roles/bigquery.metadataViewer Some additional data may be optionally ingested by the JupiterOne Google Cloud integration by configuring a custom role with the following permissions: appengine.applications.get binaryauthorization.policy.get cloudasset.assets.searchAllIamPolicies compute.projects.get orgpolicy.policy.get For BigQuery, the following additional permissions are needed to ingest BigQuery datasets, models, and tables respectively: bigquery.datasets.get bigquery.models.getMetadata bigquery.tables.get See the Google Cloud custom role documentation for additional information on how custom roles can be configured and assigned. NOTE: You may also create a service account using the gcloud CLI . There is documentation on how to leverage the CLI in the JupiterOne Google Cloud integration developer documentation . Generate a service account key See the Google Cloud service account key documentation for more information on how to create a service account key for the service account that you would like to ingest data using. NOTE: You may also create a service account key using the gcloud CLI . There is documentation on how to leverage the CLI in the Google Cloud integration developer documentation . JupiterOne + Google Cloud Organization Given the correct permissions, JupiterOne has the ability to automatically discover each project under a Google Cloud organization and configure integration instances for each of the projects. Setup Select one Google Cloud project to configure a service account for JupiterOne. Create the service account without a role. Copy the email address of the new service account (e.g. my-sa@my-j1-project.iam.gserviceaccount.com ) Generate and copy a new service account key Enable all service APIs in the \"main\" project and each \"child\" project that you'd like JupiterOne to access. Documentation for enabling service APIs is described in an earlier section of this document. NOTE : The \"Cloud Asset\" and \"Identity and Access Management (IAM)\" APIs only need to be enabled in the \"main\" project. Switch to the organization that you'd like to create individual integration instances for each project Create a new custom role with the following permissions: resourcemanager.folders.get resourcemanager.folders.list resourcemanager.organizations.get resourcemanager.projects.get resourcemanager.projects.list serviceusage.services.list resourcemanager.organizations.getIamPolicy cloudasset.assets.searchAllIamPolicies The integration will also try to ingest organization policy for \"storage.publicAccessPrevention\" to precisely calculate storage buckets public access, it is therefore recommended that the following permission is also included in the custom role above: orgpolicy.policy.get Navigate to the Cloud Resource Manager for that organization and add a new member to the organization . The new member email address is the email address of the service account that was created earlier. Select the new organization role that was created above, as well as the Google Cloud managed role \"Security Reviewer\" ( roles/iam.securityReviewer ) or an alternative JupiterOne custom role that you've created. Navigate to the JupiterOne Google Cloud integration configuration page to begin configuring the \"main\" integration instance. Use the generated service account key as the value for the \"Service Account Key File\" field. NOTE : The \"Polling Interval\" that is selected for the \"main\" integration instances, will be the same polling interval that is used for each of the child integration instances. Check the \"Configure Organization Projects\" checkbox Place the numerical value of the Google Cloud organization into the \"Organization ID\" text field (e.g. \"1234567890\") Click the CREATE CONFIGURATION button NOTE : Depending on how many projects exist under a Google Cloud organization, the auto-configuration process may take a few minutes to complete. When the process has been completed, you will see your new integration instances on the JupiterOne Google Cloud integration list page. In JupiterOne From the configuration Gear Icon , select Integrations . Scroll to the Google Cloud integration tile and click it. Click the Add Configuration button and configure the following settings: Enter the Account Name by which you'd like to identify this Google Cloud account in JupiterOne. Ingested entities will have this value stored in tag.AccountName when Tag with Account Name is checked. Enter a Description that will further assist your team when identifying the integration instance. Select a Polling Interval that you feel is sufficient for your monitoring needs. You may leave this as DISABLED and manually execute the integration. Enter the Servce Account Key File contents of the Google Cloud service account. Click Create Configuration once all values are provided. How to Uninstall From the configuration Gear Icon , select Integrations . Scroll to the Google Cloud integration tile and click it. Identify and click the integration to delete . Click the trash can icon. Click the Remove button to delete the integration. Data Model Entities The following entities are created: Resources Entity _type Entity _class Access Context Manager Access Level google_access_context_manager_access_level Ruleset Access Context Manager Access Policy google_access_context_manager_access_policy AccessPolicy Access Context Manager Service Perimeter google_access_context_manager_service_perimeter Configuration Access Context Manager Service Perimeter Api Operation google_access_context_manager_service_perimeter_api_operation Configuration Access Context Manager Service Perimeter Egress Policy google_access_context_manager_service_perimeter_egress_policy ControlPolicy Access Context Manager Service Perimeter Ingress Policy google_access_context_manager_service_perimeter_ingress_policy ControlPolicy Access Context Manager Service Perimeter Method Selector google_access_context_manager_service_perimeter_method_selector Configuration Api Gateway Api google_api_gateway_api Service Api Gateway Api Config google_api_gateway_api_config Configuration Api Gateway Gateway google_api_gateway_gateway Gateway AppEngine Application google_app_engine_application Application AppEngine Instance google_app_engine_instance Host AppEngine Service google_app_engine_service Container AppEngine Version google_app_engine_version Service Audit Config google_cloud_audit_config Configuration Big Query Dataset google_bigquery_dataset DataStore , Database Big Query Model google_bigquery_model Model Big Query Table google_bigquery_table DataCollection Bigtable AppProfile google_bigtable_app_profile Configuration Bigtable Backup google_bigtable_backup Backup Bigtable Cluster google_bigtable_cluster Cluster Bigtable Instance google_bigtable_instance Database Bigtable Table google_bigtable_table DataCollection Billing Account google_billing_account Account Billing Budget google_billing_budget Ruleset Binary Authorization Policy google_binary_authorization_policy AccessPolicy Cloud API Service google_cloud_api_service Service Cloud Function google_cloud_function Function Cloud Run Configuration google_cloud_run_configuration Configuration Cloud Run Route google_cloud_run_route Configuration Cloud Run Service google_cloud_run_service Service Cloud Storage Bucket google_storage_bucket DataStore Compute Address google_compute_address IpAddress Compute Backend Bucket google_compute_backend_bucket Gateway Compute Backend Service google_compute_backend_service Service Compute Disk google_compute_disk DataStore , Disk Compute Firewalls google_compute_firewall Firewall Compute Forwarding Rule google_compute_forwarding_rule Configuration Compute Global Address google_compute_global_address IpAddress Compute Global Forwarding Rule google_compute_global_forwarding_rule Configuration Compute Image google_compute_image Image Compute Instance google_compute_instance Host Compute Instance Group google_compute_instance_group Group Compute Instance Group Named Port google_compute_instance_group_named_port Configuration Compute Networks google_compute_network Network Compute Project google_compute_project Project Compute Region Health Check google_compute_health_check Service Compute Region Load Balancer google_compute_url_map Gateway Compute Region Target HTTP Proxy google_compute_target_http_proxy Gateway Compute Region Target HTTPS Proxy google_compute_target_https_proxy Gateway Compute SSL Policy google_compute_ssl_policy Policy Compute Snapshot google_compute_snapshot Image Compute Subnetwork google_compute_subnetwork Network Compute Target SSL Proxy google_compute_target_ssl_proxy Gateway Container Cluster google_container_cluster Cluster Container Node Pool google_container_node_pool Group DNS Managed Zone google_dns_managed_zone DomainZone DNS Policy google_dns_policy Ruleset Dataproc Cluster google_dataproc_cluster Cluster Folder google_cloud_folder Group IAM Binding google_iam_binding AccessPolicy IAM Custom Role google_iam_role AccessRole IAM Service Account google_iam_service_account User IAM Service Account Key google_iam_service_account_key AccessKey KMS Crypto Key google_kms_crypto_key Key , CryptoKey KMS Key Ring google_kms_key_ring Vault Logging Metric google_logging_metric Configuration Logging Project Sink google_logging_project_sink Logs Memcache Instance google_memcache_instance Database , DataStore , Cluster Memcache Instance Node google_memcache_instance_node Database , DataStore , Host Monitoring Alert Policy google_monitoring_alert_policy Policy Organization google_cloud_organization Organization Private CA Certificate google_privateca_certificate Certificate Private CA Certificate Authority google_privateca_certificate_authority Service Project google_cloud_project Account PubSub Subscription google_pubsub_subscription Service PubSub Topic google_pubsub_topic Channel Redis Instance google_redis_instance Database , DataStore , Host SQL Admin MySQL Instance google_sql_mysql_instance Database SQL Admin Postgres Instance google_sql_postgres_instance Database SQL Admin SQL Server Instance google_sql_sql_server_instance Database Spanner Instance google_spanner_instance Database , Cluster Spanner Instance Config google_spanner_instance_config Configuration Spanner Instance Database google_spanner_database Database Relationships The following relationships are created: Source Entity _type Relationship _class Target Entity _type google_access_context_manager_access_policy HAS google_access_context_manager_access_level google_access_context_manager_access_policy HAS google_access_context_manager_service_perimeter google_access_context_manager_service_perimeter_api_operation HAS google_access_context_manager_service_perimeter_method_selector google_access_context_manager_service_perimeter_egress_policy HAS google_access_context_manager_service_perimeter_api_operation google_access_context_manager_service_perimeter HAS google_access_context_manager_service_perimeter_egress_policy google_access_context_manager_service_perimeter HAS google_access_context_manager_service_perimeter_ingress_policy google_access_context_manager_service_perimeter_ingress_policy HAS google_access_context_manager_service_perimeter_api_operation google_access_context_manager_service_perimeter LIMITS google_cloud_api_service google_access_context_manager_service_perimeter PROTECTS google_cloud_project google_api_gateway_api_config USES google_iam_service_account google_api_gateway_api HAS google_api_gateway_gateway google_api_gateway_api USES google_api_gateway_api_config google_app_engine_application HAS google_app_engine_service google_app_engine_application USES google_storage_bucket google_app_engine_service HAS google_app_engine_version google_app_engine_version HAS google_app_engine_instance google_bigquery_dataset HAS google_bigquery_model google_bigquery_dataset HAS google_bigquery_table google_bigquery_dataset USES google_kms_crypto_key google_bigtable_cluster HAS google_bigtable_backup google_bigtable_cluster USES google_kms_crypto_key google_bigtable_instance HAS google_bigtable_app_profile google_bigtable_instance HAS google_bigtable_cluster google_bigtable_instance HAS google_bigtable_table google_bigtable_table HAS google_bigtable_backup google_billing_account HAS google_billing_budget google_cloud_api_service HAS google_iam_role google_cloud_api_service HAS resource google_cloud_api_service USES google_cloud_audit_config google_cloud_audit_config ALLOWS google_domain google_cloud_audit_config ALLOWS google_group google_cloud_audit_config ALLOWS google_iam_service_account google_cloud_audit_config ALLOWS google_user internet ALLOWS google_compute_firewall google_cloud_folder HAS google_cloud_folder google_cloud_function USES google_iam_service_account google_cloud_organization HAS google_cloud_folder google_cloud_project HAS google_cloud_api_service google_cloud_project HAS google_billing_budget google_cloud_project HAS google_binary_authorization_policy google_cloud_run_service MANAGES google_cloud_run_configuration google_cloud_run_service MANAGES google_cloud_run_route google_compute_backend_bucket HAS google_storage_bucket google_compute_backend_service HAS google_compute_health_check google_compute_backend_service HAS google_compute_instance_group google_compute_backend_service HAS google_compute_target_ssl_proxy google_compute_disk CREATED google_compute_snapshot google_compute_disk USES google_compute_image google_compute_disk USES google_kms_crypto_key google_compute_firewall PROTECTS google_compute_network google_compute_forwarding_rule CONNECTS google_compute_backend_service google_compute_forwarding_rule CONNECTS google_compute_network google_compute_forwarding_rule CONNECTS google_compute_subnetwork google_compute_forwarding_rule CONNECTS google_compute_target_http_proxy google_compute_forwarding_rule CONNECTS google_compute_target_https_proxy google_compute_forwarding_rule USES google_compute_address google_compute_global_forwarding_rule CONNECTS google_compute_backend_service google_compute_global_forwarding_rule CONNECTS google_compute_network google_compute_global_forwarding_rule CONNECTS google_compute_subnetwork google_compute_global_forwarding_rule CONNECTS google_compute_target_http_proxy google_compute_global_forwarding_rule CONNECTS google_compute_target_https_proxy google_compute_image USES google_compute_image google_compute_image USES google_kms_crypto_key google_compute_instance_group HAS google_compute_instance google_compute_instance_group HAS google_compute_instance_group_named_port google_compute_instance TRUSTS google_iam_service_account google_compute_instance USES google_compute_address google_compute_instance USES google_compute_disk google_compute_network CONNECTS google_compute_network google_compute_network CONTAINS google_compute_subnetwork google_compute_network HAS google_compute_address google_compute_network HAS google_dns_policy google_compute_network HAS google_compute_firewall google_compute_network HAS google_compute_global_address google_compute_project HAS google_compute_instance google_compute_snapshot CREATED google_compute_image google_compute_subnetwork HAS google_compute_address google_compute_subnetwork HAS google_compute_global_address google_compute_subnetwork HAS google_compute_instance google_compute_target_https_proxy HAS google_compute_ssl_policy google_compute_target_ssl_proxy HAS google_compute_ssl_policy google_compute_url_map HAS google_compute_backend_bucket google_compute_url_map HAS google_compute_backend_service google_compute_url_map HAS google_compute_target_http_proxy google_compute_url_map HAS google_compute_target_https_proxy google_container_cluster HAS google_container_node_pool google_container_node_pool HAS google_compute_instance_group google_dataproc_cluster USES google_compute_image google_dataproc_cluster USES google_kms_crypto_key google_dataproc_cluster USES google_storage_bucket google_cloud_folder HAS google_cloud_project google_iam_binding ALLOWS resource google_iam_binding ASSIGNED google_cloud_authenticated_users google_iam_binding ASSIGNED google_domain google_iam_binding ASSIGNED everyone google_iam_binding ASSIGNED google_group google_iam_binding ASSIGNED google_iam_role google_iam_binding ASSIGNED google_iam_service_account google_iam_binding ASSIGNED google_user google_iam_binding USES google_iam_role google_iam_service_account CREATED google_app_engine_version google_iam_service_account HAS google_iam_service_account_key google_kms_key_ring HAS google_kms_crypto_key google_logging_metric HAS google_monitoring_alert_policy google_logging_project_sink USES google_storage_bucket google_memcache_instance HAS google_memcache_instance_node google_memcache_instance USES google_compute_network google_cloud_organization HAS google_cloud_project google_privateca_certificate_authority CREATED google_privateca_certificate google_privateca_certificate_authority USES google_storage_bucket google_pubsub_subscription USES google_pubsub_topic google_pubsub_topic USES google_kms_crypto_key google_redis_instance USES google_compute_network google_spanner_database USES google_kms_crypto_key google_spanner_instance HAS google_spanner_database google_spanner_instance USES google_spanner_instance_config google_sql_mysql_instance USES google_kms_crypto_key google_sql_postgres_instance USES google_kms_crypto_key google_sql_sql_server_instance USES google_kms_crypto_key google_user CREATED google_app_engine_version","title":"Google Cloud"},{"location":"integrations/google-cloud/#google-cloud","text":"","title":"Google Cloud"},{"location":"integrations/google-cloud/#google-cloud-jupiterone-integration-benefits","text":"Visualize Google Cloud resources in the JupiterOne graph. Map Google users to employees in your JupiterOne account. Monitor visibility and governance of your Google Cloud environment by leveraging hundreds of out of the box queries. Monitor compliance against the Google Cloud CIS Framework and other security benchmarks using the JupiterOne compliance app. Monitor changes to your Google Cloud resources using multiple JupiterOne alert rule packs specific to Google Cloud.","title":"Google Cloud + JupiterOne Integration Benefits"},{"location":"integrations/google-cloud/#how-it-works","text":"JupiterOne periodically fetches users and cloud resources from Google Cloud to update the graph. Write JupiterOne queries to review and monitor updates to the graph, or leverage existing queries. Configure alerts to take action when the JupiterOne graph changes, or leverage existing alerts.","title":"How it Works"},{"location":"integrations/google-cloud/#requirements","text":"JupiterOne requires the contents of a Google Cloud service account key file with the correct API services enabled (see the Integration Walkthrough ). You must have permission in JupiterOne to install new integrations.","title":"Requirements"},{"location":"integrations/google-cloud/#support","text":"If you need help with this integration, please contact JupiterOne Support .","title":"Support"},{"location":"integrations/google-cloud/#integration-walkthrough","text":"Customers authorize access by creating a Google Cloud service account and providing the service account key to JupiterOne.","title":"Integration Walkthrough"},{"location":"integrations/google-cloud/#in-google-cloud","text":"A Google Cloud service account and a Google Cloud service account key must be created in order to run the integration. The service account key is used to authenticate on behalf of the integration's Google Cloud project and ingest data into JupiterOne. Google Cloud has most API services disabled by default. When a Google Cloud service API is disabled, the JupiterOne integration will not ingest the data from that API. The following Google Cloud service APIs must be enabled to ingest all of the supported data into JupiterOne: Service Name Service API Access Context Manager accesscontextmanager.googleapis.com API Gateway apigateway.googleapis.com App Engine Admin appengine.googleapis.com BigQuery bigquery.googleapis.com Binary Authorization binaryauthorization.googleapis.com Certificate Authority Service privateca.googleapis.com Cloud Asset cloudasset.googleapis.com Cloud DNS dns.googleapis.com Cloud Functions cloudfunctions.googleapis.com Cloud Key Management Service (KMS) cloudkms.googleapis.com Cloud Logging logging.googleapis.com Cloud Memorystore for Memcached memcache.googleapis.com Cloud Pub/Sub pubsub.googleapis.com Cloud Resource Manager cloudresourcemanager.googleapis.com Cloud Run run.googleapis.com Cloud Spanner spanner.googleapis.com Cloud SQL Admin sqladmin.googleapis.com Cloud Storage storage.googleapis.com Compute Engine compute.googleapis.com Google Cloud Memorystore for Redis redis.googleapis.com Identity and Access Management (IAM) iam.googleapis.com Kubernetes Engine container.googleapis.com Service Usage serviceusage.googleapis.com Stackdriver Monitoring monitoring.googleapis.com Google Cloud service APIs can be enabled using one of the following methods:","title":"In Google Cloud"},{"location":"integrations/google-cloud/#enabling-google-cloud-service-api-from-google-cloud-console","text":"Click on the service name link that you'd like to enable from the table above Select your Google Cloud project from the project dropdown menu Click the \"Enable\" button","title":"Enabling Google Cloud Service API from Google Cloud Console"},{"location":"integrations/google-cloud/#enabling-google-cloud-service-api-from-gcloud-cli","text":"Instructions on how to setup the gcloud CLI can be found in the JupiterOne Google Cloud integration developer documentation . After setting up the gcloud CLI , you can run the following command to enable all services that the JupiterOne integration supports: NOTE You can only enable 20 services at a time gcloud services enable \\ accesscontextmanager.googleapis.com \\ apigateway.googleapis.com \\ appengine.googleapis.com \\ bigquery.googleapis.com \\ binaryauthorization.googleapis.com \\ privateca.googleapis.com \\ cloudasset.googleapis.com \\ dns.googleapis.com \\ cloudfunctions.googleapis.com \\ cloudkms.googleapis.com \\ logging.googleapis.com \\ memcache.googleapis.com \\ pubsub.googleapis.com \\ cloudresourcemanager.googleapis.com \\ run.googleapis.com \\ spanner.googleapis.com \\ sqladmin.googleapis.com \\ storage.googleapis.com \\ compute.googleapis.com \\ redis.googleapis.com \\ iam.googleapis.com \\ container.googleapis.com \\ serviceusage.googleapis.com \\ monitoring.googleapis.com","title":"Enabling Google Cloud Service API from gcloud CLI"},{"location":"integrations/google-cloud/#creating-google-cloud-project-service-account","text":"See the Google Cloud service account documentation for more information on how to create a service account in the project that you would like to ingest data from. We must assign the correct permissions to the newly created service account for the integration to be run. We recommend using the following roles managed by Google Cloud: roles/iam.securityReviewer roles/iam.organizationRoleViewer roles/bigquery.metadataViewer Some additional data may be optionally ingested by the JupiterOne Google Cloud integration by configuring a custom role with the following permissions: appengine.applications.get binaryauthorization.policy.get cloudasset.assets.searchAllIamPolicies compute.projects.get orgpolicy.policy.get For BigQuery, the following additional permissions are needed to ingest BigQuery datasets, models, and tables respectively: bigquery.datasets.get bigquery.models.getMetadata bigquery.tables.get See the Google Cloud custom role documentation for additional information on how custom roles can be configured and assigned. NOTE: You may also create a service account using the gcloud CLI . There is documentation on how to leverage the CLI in the JupiterOne Google Cloud integration developer documentation .","title":"Creating Google Cloud project service account"},{"location":"integrations/google-cloud/#generate-a-service-account-key","text":"See the Google Cloud service account key documentation for more information on how to create a service account key for the service account that you would like to ingest data using. NOTE: You may also create a service account key using the gcloud CLI . There is documentation on how to leverage the CLI in the Google Cloud integration developer documentation .","title":"Generate a service account key"},{"location":"integrations/google-cloud/#jupiterone-google-cloud-organization","text":"Given the correct permissions, JupiterOne has the ability to automatically discover each project under a Google Cloud organization and configure integration instances for each of the projects.","title":"JupiterOne + Google Cloud Organization"},{"location":"integrations/google-cloud/#setup","text":"Select one Google Cloud project to configure a service account for JupiterOne. Create the service account without a role. Copy the email address of the new service account (e.g. my-sa@my-j1-project.iam.gserviceaccount.com ) Generate and copy a new service account key Enable all service APIs in the \"main\" project and each \"child\" project that you'd like JupiterOne to access. Documentation for enabling service APIs is described in an earlier section of this document. NOTE : The \"Cloud Asset\" and \"Identity and Access Management (IAM)\" APIs only need to be enabled in the \"main\" project. Switch to the organization that you'd like to create individual integration instances for each project Create a new custom role with the following permissions: resourcemanager.folders.get resourcemanager.folders.list resourcemanager.organizations.get resourcemanager.projects.get resourcemanager.projects.list serviceusage.services.list resourcemanager.organizations.getIamPolicy cloudasset.assets.searchAllIamPolicies The integration will also try to ingest organization policy for \"storage.publicAccessPrevention\" to precisely calculate storage buckets public access, it is therefore recommended that the following permission is also included in the custom role above: orgpolicy.policy.get Navigate to the Cloud Resource Manager for that organization and add a new member to the organization . The new member email address is the email address of the service account that was created earlier. Select the new organization role that was created above, as well as the Google Cloud managed role \"Security Reviewer\" ( roles/iam.securityReviewer ) or an alternative JupiterOne custom role that you've created. Navigate to the JupiterOne Google Cloud integration configuration page to begin configuring the \"main\" integration instance. Use the generated service account key as the value for the \"Service Account Key File\" field. NOTE : The \"Polling Interval\" that is selected for the \"main\" integration instances, will be the same polling interval that is used for each of the child integration instances. Check the \"Configure Organization Projects\" checkbox Place the numerical value of the Google Cloud organization into the \"Organization ID\" text field (e.g. \"1234567890\") Click the CREATE CONFIGURATION button NOTE : Depending on how many projects exist under a Google Cloud organization, the auto-configuration process may take a few minutes to complete. When the process has been completed, you will see your new integration instances on the JupiterOne Google Cloud integration list page.","title":"Setup"},{"location":"integrations/google-cloud/#in-jupiterone","text":"From the configuration Gear Icon , select Integrations . Scroll to the Google Cloud integration tile and click it. Click the Add Configuration button and configure the following settings: Enter the Account Name by which you'd like to identify this Google Cloud account in JupiterOne. Ingested entities will have this value stored in tag.AccountName when Tag with Account Name is checked. Enter a Description that will further assist your team when identifying the integration instance. Select a Polling Interval that you feel is sufficient for your monitoring needs. You may leave this as DISABLED and manually execute the integration. Enter the Servce Account Key File contents of the Google Cloud service account. Click Create Configuration once all values are provided.","title":"In JupiterOne"},{"location":"integrations/google-cloud/#how-to-uninstall","text":"From the configuration Gear Icon , select Integrations . Scroll to the Google Cloud integration tile and click it. Identify and click the integration to delete . Click the trash can icon. Click the Remove button to delete the integration.","title":"How to Uninstall"},{"location":"integrations/google-cloud/#data-model","text":"","title":"Data Model"},{"location":"integrations/google-cloud/#entities","text":"The following entities are created: Resources Entity _type Entity _class Access Context Manager Access Level google_access_context_manager_access_level Ruleset Access Context Manager Access Policy google_access_context_manager_access_policy AccessPolicy Access Context Manager Service Perimeter google_access_context_manager_service_perimeter Configuration Access Context Manager Service Perimeter Api Operation google_access_context_manager_service_perimeter_api_operation Configuration Access Context Manager Service Perimeter Egress Policy google_access_context_manager_service_perimeter_egress_policy ControlPolicy Access Context Manager Service Perimeter Ingress Policy google_access_context_manager_service_perimeter_ingress_policy ControlPolicy Access Context Manager Service Perimeter Method Selector google_access_context_manager_service_perimeter_method_selector Configuration Api Gateway Api google_api_gateway_api Service Api Gateway Api Config google_api_gateway_api_config Configuration Api Gateway Gateway google_api_gateway_gateway Gateway AppEngine Application google_app_engine_application Application AppEngine Instance google_app_engine_instance Host AppEngine Service google_app_engine_service Container AppEngine Version google_app_engine_version Service Audit Config google_cloud_audit_config Configuration Big Query Dataset google_bigquery_dataset DataStore , Database Big Query Model google_bigquery_model Model Big Query Table google_bigquery_table DataCollection Bigtable AppProfile google_bigtable_app_profile Configuration Bigtable Backup google_bigtable_backup Backup Bigtable Cluster google_bigtable_cluster Cluster Bigtable Instance google_bigtable_instance Database Bigtable Table google_bigtable_table DataCollection Billing Account google_billing_account Account Billing Budget google_billing_budget Ruleset Binary Authorization Policy google_binary_authorization_policy AccessPolicy Cloud API Service google_cloud_api_service Service Cloud Function google_cloud_function Function Cloud Run Configuration google_cloud_run_configuration Configuration Cloud Run Route google_cloud_run_route Configuration Cloud Run Service google_cloud_run_service Service Cloud Storage Bucket google_storage_bucket DataStore Compute Address google_compute_address IpAddress Compute Backend Bucket google_compute_backend_bucket Gateway Compute Backend Service google_compute_backend_service Service Compute Disk google_compute_disk DataStore , Disk Compute Firewalls google_compute_firewall Firewall Compute Forwarding Rule google_compute_forwarding_rule Configuration Compute Global Address google_compute_global_address IpAddress Compute Global Forwarding Rule google_compute_global_forwarding_rule Configuration Compute Image google_compute_image Image Compute Instance google_compute_instance Host Compute Instance Group google_compute_instance_group Group Compute Instance Group Named Port google_compute_instance_group_named_port Configuration Compute Networks google_compute_network Network Compute Project google_compute_project Project Compute Region Health Check google_compute_health_check Service Compute Region Load Balancer google_compute_url_map Gateway Compute Region Target HTTP Proxy google_compute_target_http_proxy Gateway Compute Region Target HTTPS Proxy google_compute_target_https_proxy Gateway Compute SSL Policy google_compute_ssl_policy Policy Compute Snapshot google_compute_snapshot Image Compute Subnetwork google_compute_subnetwork Network Compute Target SSL Proxy google_compute_target_ssl_proxy Gateway Container Cluster google_container_cluster Cluster Container Node Pool google_container_node_pool Group DNS Managed Zone google_dns_managed_zone DomainZone DNS Policy google_dns_policy Ruleset Dataproc Cluster google_dataproc_cluster Cluster Folder google_cloud_folder Group IAM Binding google_iam_binding AccessPolicy IAM Custom Role google_iam_role AccessRole IAM Service Account google_iam_service_account User IAM Service Account Key google_iam_service_account_key AccessKey KMS Crypto Key google_kms_crypto_key Key , CryptoKey KMS Key Ring google_kms_key_ring Vault Logging Metric google_logging_metric Configuration Logging Project Sink google_logging_project_sink Logs Memcache Instance google_memcache_instance Database , DataStore , Cluster Memcache Instance Node google_memcache_instance_node Database , DataStore , Host Monitoring Alert Policy google_monitoring_alert_policy Policy Organization google_cloud_organization Organization Private CA Certificate google_privateca_certificate Certificate Private CA Certificate Authority google_privateca_certificate_authority Service Project google_cloud_project Account PubSub Subscription google_pubsub_subscription Service PubSub Topic google_pubsub_topic Channel Redis Instance google_redis_instance Database , DataStore , Host SQL Admin MySQL Instance google_sql_mysql_instance Database SQL Admin Postgres Instance google_sql_postgres_instance Database SQL Admin SQL Server Instance google_sql_sql_server_instance Database Spanner Instance google_spanner_instance Database , Cluster Spanner Instance Config google_spanner_instance_config Configuration Spanner Instance Database google_spanner_database Database","title":"Entities"},{"location":"integrations/google-cloud/#relationships","text":"The following relationships are created: Source Entity _type Relationship _class Target Entity _type google_access_context_manager_access_policy HAS google_access_context_manager_access_level google_access_context_manager_access_policy HAS google_access_context_manager_service_perimeter google_access_context_manager_service_perimeter_api_operation HAS google_access_context_manager_service_perimeter_method_selector google_access_context_manager_service_perimeter_egress_policy HAS google_access_context_manager_service_perimeter_api_operation google_access_context_manager_service_perimeter HAS google_access_context_manager_service_perimeter_egress_policy google_access_context_manager_service_perimeter HAS google_access_context_manager_service_perimeter_ingress_policy google_access_context_manager_service_perimeter_ingress_policy HAS google_access_context_manager_service_perimeter_api_operation google_access_context_manager_service_perimeter LIMITS google_cloud_api_service google_access_context_manager_service_perimeter PROTECTS google_cloud_project google_api_gateway_api_config USES google_iam_service_account google_api_gateway_api HAS google_api_gateway_gateway google_api_gateway_api USES google_api_gateway_api_config google_app_engine_application HAS google_app_engine_service google_app_engine_application USES google_storage_bucket google_app_engine_service HAS google_app_engine_version google_app_engine_version HAS google_app_engine_instance google_bigquery_dataset HAS google_bigquery_model google_bigquery_dataset HAS google_bigquery_table google_bigquery_dataset USES google_kms_crypto_key google_bigtable_cluster HAS google_bigtable_backup google_bigtable_cluster USES google_kms_crypto_key google_bigtable_instance HAS google_bigtable_app_profile google_bigtable_instance HAS google_bigtable_cluster google_bigtable_instance HAS google_bigtable_table google_bigtable_table HAS google_bigtable_backup google_billing_account HAS google_billing_budget google_cloud_api_service HAS google_iam_role google_cloud_api_service HAS resource google_cloud_api_service USES google_cloud_audit_config google_cloud_audit_config ALLOWS google_domain google_cloud_audit_config ALLOWS google_group google_cloud_audit_config ALLOWS google_iam_service_account google_cloud_audit_config ALLOWS google_user internet ALLOWS google_compute_firewall google_cloud_folder HAS google_cloud_folder google_cloud_function USES google_iam_service_account google_cloud_organization HAS google_cloud_folder google_cloud_project HAS google_cloud_api_service google_cloud_project HAS google_billing_budget google_cloud_project HAS google_binary_authorization_policy google_cloud_run_service MANAGES google_cloud_run_configuration google_cloud_run_service MANAGES google_cloud_run_route google_compute_backend_bucket HAS google_storage_bucket google_compute_backend_service HAS google_compute_health_check google_compute_backend_service HAS google_compute_instance_group google_compute_backend_service HAS google_compute_target_ssl_proxy google_compute_disk CREATED google_compute_snapshot google_compute_disk USES google_compute_image google_compute_disk USES google_kms_crypto_key google_compute_firewall PROTECTS google_compute_network google_compute_forwarding_rule CONNECTS google_compute_backend_service google_compute_forwarding_rule CONNECTS google_compute_network google_compute_forwarding_rule CONNECTS google_compute_subnetwork google_compute_forwarding_rule CONNECTS google_compute_target_http_proxy google_compute_forwarding_rule CONNECTS google_compute_target_https_proxy google_compute_forwarding_rule USES google_compute_address google_compute_global_forwarding_rule CONNECTS google_compute_backend_service google_compute_global_forwarding_rule CONNECTS google_compute_network google_compute_global_forwarding_rule CONNECTS google_compute_subnetwork google_compute_global_forwarding_rule CONNECTS google_compute_target_http_proxy google_compute_global_forwarding_rule CONNECTS google_compute_target_https_proxy google_compute_image USES google_compute_image google_compute_image USES google_kms_crypto_key google_compute_instance_group HAS google_compute_instance google_compute_instance_group HAS google_compute_instance_group_named_port google_compute_instance TRUSTS google_iam_service_account google_compute_instance USES google_compute_address google_compute_instance USES google_compute_disk google_compute_network CONNECTS google_compute_network google_compute_network CONTAINS google_compute_subnetwork google_compute_network HAS google_compute_address google_compute_network HAS google_dns_policy google_compute_network HAS google_compute_firewall google_compute_network HAS google_compute_global_address google_compute_project HAS google_compute_instance google_compute_snapshot CREATED google_compute_image google_compute_subnetwork HAS google_compute_address google_compute_subnetwork HAS google_compute_global_address google_compute_subnetwork HAS google_compute_instance google_compute_target_https_proxy HAS google_compute_ssl_policy google_compute_target_ssl_proxy HAS google_compute_ssl_policy google_compute_url_map HAS google_compute_backend_bucket google_compute_url_map HAS google_compute_backend_service google_compute_url_map HAS google_compute_target_http_proxy google_compute_url_map HAS google_compute_target_https_proxy google_container_cluster HAS google_container_node_pool google_container_node_pool HAS google_compute_instance_group google_dataproc_cluster USES google_compute_image google_dataproc_cluster USES google_kms_crypto_key google_dataproc_cluster USES google_storage_bucket google_cloud_folder HAS google_cloud_project google_iam_binding ALLOWS resource google_iam_binding ASSIGNED google_cloud_authenticated_users google_iam_binding ASSIGNED google_domain google_iam_binding ASSIGNED everyone google_iam_binding ASSIGNED google_group google_iam_binding ASSIGNED google_iam_role google_iam_binding ASSIGNED google_iam_service_account google_iam_binding ASSIGNED google_user google_iam_binding USES google_iam_role google_iam_service_account CREATED google_app_engine_version google_iam_service_account HAS google_iam_service_account_key google_kms_key_ring HAS google_kms_crypto_key google_logging_metric HAS google_monitoring_alert_policy google_logging_project_sink USES google_storage_bucket google_memcache_instance HAS google_memcache_instance_node google_memcache_instance USES google_compute_network google_cloud_organization HAS google_cloud_project google_privateca_certificate_authority CREATED google_privateca_certificate google_privateca_certificate_authority USES google_storage_bucket google_pubsub_subscription USES google_pubsub_topic google_pubsub_topic USES google_kms_crypto_key google_redis_instance USES google_compute_network google_spanner_database USES google_kms_crypto_key google_spanner_instance HAS google_spanner_database google_spanner_instance USES google_spanner_instance_config google_sql_mysql_instance USES google_kms_crypto_key google_sql_postgres_instance USES google_kms_crypto_key google_sql_sql_server_instance USES google_kms_crypto_key google_user CREATED google_app_engine_version","title":"Relationships"}]}